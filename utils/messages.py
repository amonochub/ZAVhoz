
from models import Priority, Request, Status


# Shared emoji mappings
STATUS_EMOJIS = {
    Status.OPEN: "üü¢",
    Status.IN_PROGRESS: "üü°",
    Status.COMPLETED: "‚úÖ",
    Status.REJECTED: "‚ùå"
}

PRIORITY_EMOJIS = {
    Priority.LOW: "üü¢",
    Priority.MEDIUM: "üü°",
    Priority.HIGH: "üî¥"
}


def format_request_info(request: Request, show_user: bool = False) -> str:
    """–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞—è–≤–∫–µ"""
    message = f"""
üìã <b>–ó–∞—è–≤–∫–∞ #{request.id}</b>

üè∑Ô∏è <b>–ù–∞–∑–≤–∞–Ω–∏–µ:</b> {request.title}
üìù <b>–û–ø–∏—Å–∞–Ω–∏–µ:</b> {request.description}
üè¢ <b>–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:</b> {request.location}
{PRIORITY_EMOJIS[request.priority]} <b>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:</b> {request.priority.value}
{STATUS_EMOJIS[request.status]} <b>–°—Ç–∞—Ç—É—Å:</b> {request.status.value}

üìÖ <b>–°–æ–∑–¥–∞–Ω–∞:</b> {request.created_at.strftime('%d.%m.%Y %H:%M')}
"""

    if show_user:
        message += f"üë§ <b>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</b> {request.user.first_name or ''} {request.user.last_name or ''} (@{request.user.username or 'N/A'})\n"

    if request.assigned_to and request.assigned_user:
        message += f"üë∑ <b>–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:</b> {request.assigned_user.first_name or ''} {request.assigned_user.last_name or ''}\n"

    if request.completed_at:
        message += f"‚úÖ <b>–í—ã–ø–æ–ª–Ω–µ–Ω–∞:</b> {request.completed_at.strftime('%d.%m.%Y %H:%M')}\n"

    return message.strip()

def format_request_list(requests: list[Request], title: str = "–ó–∞—è–≤–∫–∏") -> str:
    """–£–ª—É—á—à–µ–Ω–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞—è–≤–æ–∫ –¥–ª—è –∑–∞–≤—Ö–æ–∑–∞"""
    if not requests:
        return f"üì≠ {title}: –∑–∞—è–≤–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ"

    message = f"üìã <b>{title}</b> ({len(requests)}):\n\n"

    for i, request in enumerate(requests, 1):
        # –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è
        status_emoji = {
            Status.OPEN: "‚è≥",        # –û–∂–∏–¥–∞–µ—Ç
            Status.IN_PROGRESS: "üîß", # –í —Ä–∞–±–æ—Ç–µ
            Status.COMPLETED: "‚úÖ",   # –ì–æ—Ç–æ–≤–æ
            Status.REJECTED: "‚ùå"     # –û—Ç–∫–ª–æ–Ω–µ–Ω–æ
        }[request.status]

        priority_emoji = {
            Priority.HIGH: "üî¥",     # –°—Ä–æ—á–Ω–∞—è
            Priority.MEDIUM: "üü°",   # –û–±—ã—á–Ω–∞—è
            Priority.LOW: "üü¢"       # –ù–µ —Å—Ä–æ—á–Ω–∞—è
        }[request.priority]

        # –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
        message += f"{i}. {status_emoji}{priority_emoji} <b>#{request.id}</b>\n"
        message += f"   üìù {request.title[:40]}{'...' if len(request.title) > 40 else ''}\n"
        message += f"   üìç {request.location}\n"
        message += f"   üìÖ {request.created_at.strftime('%d.%m %H:%M')}\n\n"

    return message.strip()

def get_welcome_message(user_name: str, is_admin: bool = False) -> str:
    """–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ - –¥—Ä—É–∂–µ–ª—é–±–Ω–æ–µ –∏ –ø–æ–Ω—è—Ç–Ω–æ–µ"""
    if is_admin:
        message = f"üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {user_name}!\n\n"
        message += "üè¢ <b>–í—ã –≤–æ—à–ª–∏ –∫–∞–∫ –ó–ê–í–•–û–ó</b>\n\n"
        message += "üìä –í–∞—à–∞ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ:\n"
        message += "  ‚Ä¢ üìã –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∞–º–∏\n"
        message += "  ‚Ä¢ üéØ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É –∏ —Å—Ç–∞—Ç—É—Å—É\n"
        message += "  ‚Ä¢ üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã\n"
        message += "  ‚Ä¢ üì§ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö\n\n"
        message += "–ù–∞—á–Ω–∏—Ç–µ —Å <b>¬´üëë –ü–ê–ù–ï–õ–¨ –ó–ê–í–•–û–ó–ê¬ª</b>"
    else:
        message = f"üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {user_name}!\n\n"
        message += "üè† –≠—Ç–æ—Ç –±–æ—Ç –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –±—ã—Å—Ç—Ä–æ –ø–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ —Ä–µ–º–æ–Ω—Ç.\n\n"
        message += "üÜò <b>–ß—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å:</b>\n"
        message += "  ‚Ä¢ üì∏ –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ –ø—Ä–æ–±–ª–µ–º—ã\n"
        message += "  ‚Ä¢ üìù –û–ø–∏—Å–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Ç–µ–∫—Å—Ç–æ–º\n"
        message += "  ‚Ä¢ üìä –û—Ç—Å–ª–µ–¥–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏\n"
        message += "  ‚Ä¢ üîî –ü–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\n\n"
        message += "–ù–∞—á–Ω–∏—Ç–µ —Å <b>¬´üÜò –ü–û–î–ê–¢–¨ –ó–ê–Ø–í–ö–£ –ù–ê –†–ï–ú–û–ù–¢¬ª</b>"
    return message


def get_help_message_for_user() -> str:
    """–°–ø—Ä–∞–≤–∫–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
    return (
        "‚ùì <b>–°–ü–†–ê–í–ö–ê –î–õ–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø</b>\n\n"
        "üìù <b>–ö–∞–∫ –ø–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É?</b>\n"
        "1. –ù–∞–∂–º–∏—Ç–µ ¬´üÜò –ü–û–î–ê–¢–¨ –ó–ê–Ø–í–ö–£ –ù–ê –†–ï–ú–û–ù–¢¬ª\n"
        "2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ç–æ –∏–ª–∏ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã\n"
        "3. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç\n"
        "4. –ì–æ—Ç–æ–≤–æ! –ó–∞–≤—Ö–æ–∑ –ø–æ–ª—É—á–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ\n\n"
        "üì∏ <b>–ö–∞–∫ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ?</b>\n"
        "‚Ä¢ –°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä—É–π—Ç–µ –ø—Ä–æ–±–ª–µ–º—É\n"
        "‚Ä¢ –ù–∞–ø–∏—à–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤ –ø–æ–¥–ø–∏—Å—å\n"
        "‚Ä¢ –ü—Ä–∏–º–µ—Ä: '–°–ª–æ–º–∞–Ω –∫—Ä–∞–Ω –≤ –∫–∞–±–∏–Ω–µ—Ç–µ 101'\n\n"
        "‚è±Ô∏è <b>–ö–∞–∫ –¥–æ–ª–≥–æ –∂–¥–∞—Ç—å?</b>\n"
        "‚Ä¢ üî¥ –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: 1-2 —á–∞—Å–∞\n"
        "‚Ä¢ üü° –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –¥–æ 24 —á–∞—Å–æ–≤\n"
        "‚Ä¢ üü¢ –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –¥–æ –Ω–µ–¥–µ–ª–∏\n\n"
        "–í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—É—é —Å–ø—Ä–∞–≤–∫—É ‚¨áÔ∏è"
    )


def get_help_photo_message() -> str:
    """–°–ø—Ä–∞–≤–∫–∞: –∫–∞–∫ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ –∏–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç"""
    return (
        "üì∏ <b>–ö–ê–ö –û–¢–ü–†–ê–í–ò–¢–¨ –§–û–¢–û –ò–õ–ò –î–û–ö–£–ú–ï–ù–¢</b>\n\n"
        "<b>–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</b>\n"
        "1Ô∏è‚É£ –û—Ç–∫—Ä–æ–π—Ç–µ –∫–∞–º–µ—Ä—É –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª\n"
        "2Ô∏è‚É£ –°–¥–µ–ª–∞–π—Ç–µ —Ñ–æ—Ç–æ –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç\n"
        "3Ô∏è‚É£ –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –≤ –±–æ—Ç–µ\n"
        "4Ô∏è‚É£ <b>–ù–∞–ø–∏—à–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤ –ø–æ–¥–ø–∏—Å—å</b>\n"
        "   (—ç—Ç–æ –≤–∞–∂–Ω–æ!)\n"
        "5Ô∏è‚É£ –û—Ç–ø—Ä–∞–≤—å—Ç–µ\n\n"
        "<b>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:</b>\n"
        "üì∏ –§–æ—Ç–æ (JPG, PNG)\n"
        "üìÑ –î–æ–∫—É–º–µ–Ω—Ç—ã (PDF, DOC, DOCX, XLS –∏ –¥—Ä.)\n\n"
        "<b>–ü—Ä–∏–º–µ—Ä—ã —Ö–æ—Ä–æ—à–µ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è:</b>\n"
        "‚úÖ '–¢–µ—á–µ—Ç –∫—Ä–∞–Ω, –∫–∞–±–∏–Ω–µ—Ç 101'\n"
        "‚úÖ '–†–∞–∑–±–∏—Ç–æ–µ –æ–∫–Ω–æ, –∫–æ—Ä–∏–¥–æ—Ä 2 —ç—Ç–∞–∂–∞'\n"
        "‚úÖ '–í–µ–¥–æ–º–æ—Å—Ç—å –æ —Ä–µ–º–æ–Ω—Ç–µ, –ø—Ä–∏–ª–æ–∂–µ–Ω —Å—á–µ—Ç'\n\n"
        "<b>–ü–ª–æ—Ö–∏–µ –ø—Ä–∏–º–µ—Ä—ã:</b>\n"
        "‚ùå '–û–∫–Ω–æ' (—Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–æ)\n"
        "‚ùå –§–∞–π–ª –±–µ–∑ –æ–ø–∏—Å–∞–Ω–∏—è\n"
        "‚ùå '–í—Å—ë —Å–ª–æ–º–∞–ª–æ—Å—å' (–Ω–µ—è—Å–Ω–æ)\n\n"
        "üìù –ß–µ–º –ø–æ–¥—Ä–æ–±–Ω–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ, —Ç–µ–º\n"
        "–±—ã—Å—Ç—Ä–µ–µ –ø–æ–º–æ–≥—É—Ç!"
    )


def get_help_timing_message() -> str:
    """–°–ø—Ä–∞–≤–∫–∞: –∫–∞–∫ –¥–æ–ª–≥–æ –∂–¥–∞—Ç—å"""
    return (
        "‚è±Ô∏è <b>–í–†–ï–ú–Ø –û–¢–í–ï–¢–ê</b>\n\n"
        "<b>–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É:</b>\n\n"
        "üî¥ <b>–í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢</b>\n"
        "   ‚è∞ 1-2 —á–∞—Å–∞\n"
        "   üéØ –°—Ä–æ—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã\n"
        "   –ù–∞–ø—Ä–∏–º–µ—Ä: –Ω–µ—Ç –≤–æ–¥—ã, –æ—Ç–æ–ø–ª–µ–Ω–∏—è\n\n"
        "üü° <b>–°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢</b>\n"
        "   ‚è∞ –î–æ 24 —á–∞—Å–æ–≤\n"
        "   üéØ –û–±—ã—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã\n"
        "   –ù–∞–ø—Ä–∏–º–µ—Ä: —Å–ª–æ–º–∞–Ω –∫—Ä–∞–Ω, –ª–∞–º–ø–æ—á–∫–∞\n\n"
        "üü¢ <b>–ù–ò–ó–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢</b>\n"
        "   ‚è∞ –î–æ –Ω–µ–¥–µ–ª–∏\n"
        "   üéØ –ù–µ–∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã\n"
        "   –ù–∞–ø—Ä–∏–º–µ—Ä: –∫–æ—Å–º–µ—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–º–æ–Ω—Ç\n\n"
        "üì≤ <b>–í—ã –ø–æ–ª—É—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–æ–≥–¥–∞:</b>\n"
        "‚úÖ –ó–∞—è–≤–∫–∞ –ø—Ä–∏–Ω—è—Ç–∞ –≤ —Ä–∞–±–æ—Ç—É\n"
        "‚úÖ –†–∞–±–æ—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞\n"
        "‚úÖ –ó–∞—è–≤–∫–∞ –∑–∞–∫—Ä—ã—Ç–∞"
    )


def get_help_not_fixed_message() -> str:
    """–°–ø—Ä–∞–≤–∫–∞: —á—Ç–æ –µ—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–ª–æ"""
    return (
        "üö´ <b>–ß–¢–û –ï–°–õ–ò –ü–†–û–ë–õ–ï–ú–ê –ù–ï –†–ï–®–ï–ù–ê?</b>\n\n"
        "<b>–ï—Å–ª–∏ –∑–∞–≤—Ö–æ–∑ –Ω–µ –ø—Ä–∏—Å—Ç—É–ø–∏–ª:</b>\n"
        "1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç\n"
        "2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞—è–≤–∫–∞ –≤–∏–¥–Ω–∞ –≤ '–ú–æ–∏ –∑–∞—è–≤–∫–∏'\n"
        "3. –ü–æ–¥–æ–∂–¥–∏—Ç–µ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è\n"
        "4. –ï—Å–ª–∏ —Å—Ä–æ–∫ –ø—Ä–µ–≤—ã—à–µ–Ω, —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –∑–∞—è–≤–∫—É\n\n"
        "<b>–ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞ –Ω–µ –ø–æ–º–æ–≥–ª–∞:</b>\n"
        "1. –°–æ–∑–¥–∞–π—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∑–∞—è–≤–∫—É\n"
        "2. –û–ø–∏—à–∏—Ç–µ, —á—Ç–æ —É–∂–µ –¥–µ–ª–∞–ª–∏\n"
        "3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–æ–≤–æ–µ —Ñ–æ—Ç–æ\n"
        "4. –û—Ç–º–µ—Ç—å—Ç–µ –∫–∞–∫ '–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç'\n\n"
        "<b>–ö–æ–Ω—Ç–∞–∫—Ç –∑–∞–≤—Ö–æ–∑–∞:</b>\n"
        "üìû –£—Ç–æ—á–Ω–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏\n"
        "üìß –ò–ª–∏ –Ω–∞–ø–∏—à–∏—Ç–µ –≤ —à–∫–æ–ª–µ\n\n"
        "üí° <b>–°–æ–≤–µ—Ç:</b> –ß–µ–º —Ç–æ—á–Ω–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ, —Ç–µ–º\n"
        "–±—ã—Å—Ç—Ä–µ–µ –ø–æ–º–æ–≥—É—Ç!"
    )


def get_admin_help_message() -> str:
    """–°–ø—Ä–∞–≤–∫–∞ –¥–ª—è –∑–∞–≤—Ö–æ–∑–∞"""
    return (
        "üëë <b>–°–ü–†–ê–í–ö–ê –î–õ–Ø –ó–ê–í–•–û–ó–ê</b>\n\n"
        "üìä <b>–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞–Ω–µ–ª—å?</b>\n\n"
        "<b>–û—Å–Ω–æ–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏:</b>\n"
        "üìã <b>–û—Ç–∫—Ä—ã—Ç—ã–µ –∑–∞—è–≤–∫–∏</b>\n"
        "   ‚Üí –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–µ–∫—É—â–∏—Ö –∑–∞—è–≤–æ–∫\n"
        "   ‚Üí –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É\n\n"
        "üéØ <b>–§–∏–ª—å—Ç—Ä—ã</b>\n"
        "   ‚Üí –ü–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É (—Å—Ä–æ—á–Ω—ã–µ –ø–µ—Ä–≤—ã–º–∏)\n"
        "   ‚Üí –ü–æ —Å—Ç–∞—Ç—É—Å—É (–≤ —Ä–∞–±–æ—Ç–µ, –≤—ã–ø–æ–ª–Ω–µ–Ω–æ)\n"
        "   ‚Üí –ü–æ –¥–∞—Ç–µ (—Å–µ–≥–æ–¥–Ω—è, –Ω–µ–¥–µ–ª—è)\n\n"
        "üìä <b>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</b>\n"
        "   ‚Üí –¢–µ–∫—É—â–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞\n"
        "   ‚Üí –í—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞ –¥–µ–Ω—å\n"
        "   ‚Üí –ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã\n\n"
        "üìÅ <b>–ê—Ä—Ö–∏–≤</b>\n"
        "   ‚Üí –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö\n\n"
        "üì§ <b>–≠–∫—Å–ø–æ—Ä—Ç</b>\n"
        "   ‚Üí –û—Ç—á–µ—Ç –∑–∞ –º–µ—Å—è—Ü (CSV)\n"
        "   ‚Üí –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (TXT)\n"
        "   ‚Üí –í—Å–µ –∑–∞—è–≤–∫–∏ (CSV)"
    )


def get_admin_export_help_message() -> str:
    """–°–ø—Ä–∞–≤–∫–∞: –∫–∞–∫ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å"""
    return (
        "üì§ <b>–ö–ê–ö –≠–ö–°–ü–û–†–¢–ò–†–û–í–ê–¢–¨ –û–¢–ß–ï–¢</b>\n\n"
        "<b>–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:</b>\n\n"
        "üìä <b>–û—Ç—á–µ—Ç –∑–∞ –º–µ—Å—è—Ü</b>\n"
        "   üìã –§–æ—Ä–º–∞—Ç: CSV\n"
        "   üìà –°–æ–¥–µ—Ä–∂–∏—Ç: ID, –¥–∞—Ç–∞, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, —Å—Ç–∞—Ç—É—Å\n"
        "   üíæ –û—Ç–∫—Ä–æ–π—Ç–µ –≤ Excel –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞\n\n"
        "üìà <b>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</b>\n"
        "   üìã –§–æ—Ä–º–∞—Ç: TXT (—Ç–µ–∫—Å—Ç)\n"
        "   üìä –°–æ–¥–µ—Ä–∂–∏—Ç: –æ–±—â–∏–µ –¥–∞–Ω–Ω—ã–µ, –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º,\n"
        "             –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º\n"
        "   üíæ –õ–µ–≥–∫–æ –¥–µ–ª–∏—Ç—å—Å—è –∏ –ø–µ—á–∞—Ç–∞—Ç—å\n\n"
        "üìã <b>–í—Å–µ –∑–∞—è–≤–∫–∏</b>\n"
        "   üìã –§–æ—Ä–º–∞—Ç: CSV (–≤—Å–µ –¥–∞–Ω–Ω—ã–µ)\n"
        "   üìù –°–æ–¥–µ—Ä–∂–∏—Ç: –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è\n"
        "   üíæ –î–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞\n\n"
        "<b>–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</b>\n"
        "1. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π –æ—Ç—á–µ—Ç\n"
        "2. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞\n"
        "3. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ\n"
        "4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏–ª–∏ –ø–µ—á–∞—Ç–∏"
    )


def get_stats_message(total_requests: int, completed_requests: int, avg_completion_time: float = None) -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π"""
    message = "üìä <b>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞—è–≤–æ–∫</b>\n\n"
    message += f"üìã –í—Å–µ–≥–æ –∑–∞—è–≤–æ–∫: {total_requests}\n"
    message += f"‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ: {completed_requests}\n"

    if avg_completion_time:
        hours = int(avg_completion_time)
        minutes = int((avg_completion_time - hours) * 60)
        message += f"‚è±Ô∏è –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: {hours}—á {minutes}–º–∏–Ω\n"

    return message
